---
title: "Marvel Data"
output: html_document
---

#Changing directory
```{r}
setwd("~/Desktop/Marvel")
```

#Loading data set
```{r}
avengers<-read.csv('avengers.csv')
avengers<-avengers[,-1]
head(avengers)
```
#Loading required libraries
```{r}
library(dplyr)
library(ggplot2)
```

#Explatory
```{r}

avengers %>% 
  arrange(desc(Appearances))
  
#Most of the characters were male
#Didn't recognize a lot of the characters because of their full names

```

#Take a look at a top 25
```{r}

top_25<-avengers %>% 
          arrange(desc(Appearances)) %>%
          slice(1:25)

top_25

table(top_25$Death1)
#More than 50% of the top 25 characters have died at least once ~60%

table(top_25$Return1)
#Of the ones who died once, ~87% returned 

table(top_25$Death2)
#Of those who have died once, 3 characters died again ~12%

table(top_25$Return2)
#Of those who have died again, ~66.67% returned

table(top_25$Death3)
#none of them died again! 2x deaths is a maximum

```

```{r}

score<-rep(NA,nrow(avengers))

for(j in 1:nrow(avengers)){
  
    i<-0

  if(avengers$Death1[j] == "YES")
    i<-i+1
  
  if(avengers$Death2[j] == "YES")
    i<-i+1

  if(avengers$Death3[j] == "YES")
    i<-i+1
  
  if(avengers$Death4[j] == "YES")
    i<-i+1
  
  if(avengers$Death5[j] == "YES")
    i<-i+1
  
  score[j]<-i

}

score<-5-score

```
```{r}

library(varhandle)

avengers<-cbind(avengers,score)
data_graph<-avengers[,c(1,21)]
data_graph$Name.Alias<-unfactor(data_graph$Name.Alias)

data_graph<-data_graph[!data_graph$Name.Alias=="",]

```

```{r}
data_graph
data_graph$Name.Alias<-factor(data_graph$Name.Alias)
```
```{r}
p <- ggplot(datat_graph, aes(Name.Alias, score)) + geom_tile(aes(fill = rescale), + colour = "white") + scale_fill_gradient(low = "white", + high = "steelblue")
```


```{r}
# Create dataset
data=data.frame(
  individual=paste( "Mister ", seq(1,60), sep=""),
  value=sample( seq(10,100), 60, replace=T)
)
 
# Set a number of 'empty bar'
empty_bar=10
 
# Add lines to the initial dataset
to_add = matrix(NA, empty_bar, ncol(data))
colnames(to_add) = colnames(data)
data=rbind(data, to_add)
data$id=seq(1, nrow(data))

```

```{r}


```